<div class="animated fadeIn">
  <div class="box-header with-border">
    <div class="row">
      <div class="col-lg-6 col-xs-6 col-sm-6">
        <h4 class="box-title">{{'Leave.PersonalDetail' | translate}}</h4>
      </div>
    </div>
  </div>
  <div class="col-md-12 emp-info">
    <div class="card">
      <div class="row">
        <div class="col-lg-12 col-md-12">
          <div class="mx-3">
            <div class=" col-md-12 mt-3">
              <div class="card">
                <div class="card-header">
                  <h6>{{ "Leave.LeavePersonal.TitleInfo" | translate }}</h6>
                </div>
                <div class="card-body row">
                  <div class="col-sm">
                    <p class="m-3"><strong>{{ 'Leave.LeavePersonal.EmployeeNumber' | translate}}:
                      </strong>{{employee.empNumber}}</p>
                    <p class="m-3"><strong>{{ 'Leave.LeavePersonal.FullName' | translate}}:
                      </strong>{{employee.empName}}</p>
                    <p class="m-3"><strong>{{ 'Leave.LeavePersonal.Department' | translate}}:
                      </strong>{{ employee?.deptCode }} - {{
                      language === "vi"
                      ? employee?.partNameVN
                      : language === "en"
                      ? employee?.partNameEN
                      : employee?.partNameTW
                      }}</p>
                    <p class="m-3"><strong>{{ 'Leave.LeavePersonal.Position' | translate}}:
                      </strong>{{
                      language === "vi"
                      ? employee?.positionNameVN
                      : language === "en"
                      ? employee?.positionNameEN
                      : employee?.positionNameTW
                      }}</p>
                    <p class="m-3"><strong>{{ 'Leave.LeavePersonal.DateIn' | translate}}:
                      </strong>{{
                      language === "vi"
                      ? employee?.dateInVN
                      : language === "en"
                      ? employee?.dateInEN
                      : employee?.dateInTW
                      }}</p>
                  </div>
                  <div class="col-sm">
                    <!-- Phép năm -->
                    <p class="m-3"><strong>{{ 'Leave.LeavePersonal.AnnualLeave' | translate}}:
                      </strong>{{history.totalDay}}</p>
                    <!-- Phép năm cá nhân -->
                    <p class="m-3"><strong>{{ 'Leave.LeavePersonal.AgentLeave' | translate}}:
                      </strong>{{history.countAgent}}</p>
                    <!-- Phép năm công ty -->
                    <p class="m-3"><strong>{{ 'Leave.LeavePersonal.ArrangeLeave' | translate}}:
                      </strong>{{history.countArran}}</p>
                    <!-- Tổng phép đã nghỉ -->
                    <p class="m-3"><strong>{{ 'Leave.LeavePersonal.TotalUsedAnnualLeave' | translate}}:
                      </strong>{{history.countTotal}}</p>
                  </div>
                  <div class="col-sm">

                    <!-- Phép năm đã nghỉ -->
                    <p class="m-3"><strong>{{ 'Leave.LeavePersonal.UsedAnnualLeave' | translate}}:
                      </strong>{{history.countLeave}}</p>
                    <!-- Phép cá nhân chưa nghỉ -->
                    <p class="m-3"><strong>{{ 'Leave.LeavePersonal.AnnualLeaveEnough' | translate}}:
                      </strong>{{history.countRestAgent}}</p>
                    <!-- Phép năm công ty chưa nghỉ -->
                    <p class="m-3"><strong>{{ 'Leave.LeavePersonal.AgentLeaveEnough' | translate}}:
                      </strong>{{history.countRestArran}}</p>

                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-12 mt-3 mb-1 table-responsive">
              <table class="table table-bordered table-hover table-striped">
                <thead>
                  <tr>
                    <th scope="col">
                      {{ "Leave.LeavePersonal.STT" | translate }}
                    </th>
                    <th scope="col">
                      {{ "Leave.LeavePersonal.DateOfRegister" | translate }}
                    </th>
                    <th scope="col">
                      {{ "Leave.LeavePersonal.ReasonOfLeave" | translate }}
                    </th>
                    <th scope="col">
                      {{ "Leave.LeavePersonal.LeaveTime" | translate }}
                    </th>
                    <th scope="col">
                      {{ "Leave.LeavePersonal.TotalLeaveDay" | translate }}
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let item of leaveData; let i = index"
                    [ngClass]="item?.status_Lock ? 'status-danger' : ''">
                    <td>{{ i + 1 }}</td>
                    <td>
                      {{ item?.updated | date : "dd/MM/yyyy HH:mm:ss a" }}
                    </td>
                    <td>
                      {{
                      language === "vi"
                      ? item?.categoryNameVN
                      : language === "en"
                      ? item?.categoryNameEN
                      : item?.categoryNameTW
                      }}
                      <span *ngIf="item.reasonAdjust" class="text-warning"
                        pTooltip="{{'Leave.LeavePersonal.ReasonAdjust' | translate }}" showDelay="50"
                        tooltipStyleClass="style-personal">
                        <i class="fa fa-warning"></i>
                      </span>
                      <span *ngIf="item?.status_Lock" class="text-warning" pTooltip="{{item?.mailContent_Lock == null || item?.mailContent_Lock == ''
                                          ? ('Leave.ErrorMessage.Lockleaver' | translate)
                                          : item?.mailContent_Lock
                                      }}" showDelay="50" tooltipStyleClass="style-personal">
                        <i class="fa fa-warning"></i>
                      </span>
                    </td>
                    <td>{{ item?.timeLine }}</td>
                    <td>{{ item?.leaveDayReturn }}</td>
                  </tr>
                  <tr *ngIf="leaveData?.length < 1">
                    <td colspan="100%" class="table-warning text-center fw-bold">
                      {{ "Common.NoData" | translate }}
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
